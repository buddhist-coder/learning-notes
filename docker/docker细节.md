# docker 细节

在容器内退出并关闭容器，在容器中直接输入exit，若果是退出而不关闭容器的话，直接Ctrl+P+Q

## `docker run -d centos`

以后台模式启动一个容器，然后`docker ps -a`进行查看，会发现容器已经退出。这里说明一点：Docker 容器后台运行，就必须有一个前台进程，容器运行的命令如果不是那么一直挂起的命令(比如`top`,`tail`)，就是会自动退出。
这个是docker的机制问题，比如的web容器，我们以nginx为例，正常情况下，我们配置启动服务只需要启动相应的service即可，例如 `service nginx start`，但是这样做，nginx后台进程模式运行，就导致docker前台没有运行的应用，这样容器后台启动后回立即自杀因为它觉得没事可做了。所以，最佳解决方案是，将你要运行的程序以前台进程的形式运行。
